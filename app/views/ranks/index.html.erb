<p id="notice"><%= notice %></p>

<h1>Listing Ranks</h1>

<table>
	<thead>
		<tr>
			<th>UserID</th>
			<th>Score</th>
			<th colspan="3"></th>
		</tr>
	</thead>

	<div id="ranking">
		<% counter = 1%>
		<% rankedPosition = RanksController.rankList(2, 1)%>
		<% rankedPosition.keys.each do |rank| %>
		<% pos = rankedPosition.values_at(rank) %>
		<p>
			<center>
				<% if counter <= 5 %>
						<% if counter <= 3 %>
							<font color='red'><%= pos %>. <b><%= rank.score %></b> <i><%=User.find_by_id(rank.user_id).email%></i></font>
						<% else %>
							<%= pos %>. <b><%= rank.score %></b> <i><%=User.find_by_id(rank.user_id).email%></i>
						<% end %>
				<% end %>
			</center>
		</p>
		<% counter = counter + 1; %>
		<% end %>
	</div>

	<tbody>
		<% @ranks.each do |rank| %>
			<tr>
			<td><%= rank.user_id %></td>
			<td><%= rank.score %></td>
			<td><%= link_to 'Show', rank %></td>
			<td><%= link_to 'Edit', edit_rank_path(rank) %></td>
			<td><%= link_to 'Destroy', rank, method: :delete, data: { confirm: 'Are you sure?' } %></td>
			</tr>
		<% end %>
	</tbody>
</table>

<br>

<%= link_to 'New Rank', new_rank_path %>
